# Операционные системы
### #8 Сети и сетевые операционные системы
# СЕТИ И СЕТЕВЫЕ ОС
### Для чего компьютеры объединяют в сети?
- Совместное использование ресурсов.
    - Физических (принтеры в локальной сети)
    - Информационные (базы данных билетов)
- Ускорение вычислений.
    - Независимые задачи распределяются между машинами.
- Повышение надёжности работы.
- Общение пользователей.
# СЕТИ И СЕТЕВЫЕ ОС
### Сетевые и распределённые системы.
- Сетевые ОС
    - Пользователь должен знать, что компьютер находится в сети, где находятся удалённые ресурсы и как до них добраться.
    - От автономной ОС отличается дополнительной сетевой части.
- Распределённые ОС
    - Пользователь работает как в автономной ОС
    - ОС сильно отличается от автономных ОС и функционирует (условно) на всех компьютерах сети.
# СЕТИ И СЕТЕВЫЕ ОС
### Особенности взаимодействия удалённых процессов.
- В основе взаимодействия локальных процессов лежит использование разделяемой памяти, а в основе взаимодействия удалённых процессов – передача сообщений.
- Информация между удалёнными процессами зачастую передаётся через процессы-посредники, обитающие на компьютерах, отличных от компьютеров получателя и отправителя.
# СЕТИ И СЕТЕВЫЕ ОС
### Особенности взаимодействия удалённых процессов.
- Удалённое взаимодействие должно строиться исходя из первоначального предположения о ненадёжности связи.
- Адреса взаимодействующих процессов должны быть уникальны в рамках всей сети.
- Необходимость обеспечить взаимоисключения процессов при обращении к линии связи между компьютерами.
# СЕТИ И СЕТЕВЫЕ ОС
### Логическая организация связи.
- Как прокладывать физические линии связи?
    - Какая конфигурация или топология линии связи должна быть? (звезда, кольцо и т.д.)
- Как исключать возникновение race condition при их использовании?
- Какие виды интерфейсов могут быть предоставлены пользователю?
- Как организована адресация удалённых процессов?
- Как информация передаётся от отправителя к получателю через узлы посредники?
# СЕТИ И СЕТЕВЫЕ ОС
### Понятие протокола.
- Для обмена почтовыми сообщениями между людьми соответствующие службы связи должны договориться о:
    - Виде почтовых сообщений.
    - Содержании служебной информации
    - Формате представления служебной информации
- Для взаимодействия удалённых процессов сетевые части ОС таже должны руководствоваться определёнными соглашениями (поддерживать определённые протоколы).
# СЕТИ И СЕТЕВЫЕ ОС

![image](https://snipboard.io/rMybg2.jpg)

**Многоуровневая модель**

В этом случае элемент с уровнем K может пользоваться службами с уровня K - 1 и предоставлять службы для уровня K + 1.
Переадресовываться к другому уровню нельзя.
Например, передача письма в организации:
Руководитель -> Секретарь -> Канцелярия -> Почта -> Доставка ->…. 
Присутствуют так называемые вертикальные интерфейсы: контроль приемлемости письма на одном из уровней согласовывается с более верхним уровнем.
Имеются и горизонтальные интерфейсы, например, договор между руководителями о языке письма, форме и т.д.
# СЕТИ И СЕТЕВЫЕ ОС
### Многоуровневая модель.
- Формальный перечень правил, определяющих последовательность и формат сообщений, которыми обмениваются сетевые компоненты вычислительных систем, лежащие на одном уровне называется **сетевым протоколом.**
- Вся совокупность вертикальных и горизонтальных протоколов (интерфейсов и сетевых протоколов) называется **семейством протоколов** или **стеком протоколов.**
# СЕТИ И СЕТЕВЫЕ ОС
### Модель OSI/ISO
- В данной модели подразумеваются следующие уровни взаимодействия (по возрастанию):
1. Физический (договорённости о битах на уровне компьютеров)
2. Канальный (договорённости пакетов)
3. Сетевой (доставка от узла отправителя к получателю)
4. Транспортный (доставка от процесса отправителя к процессу получателя)
5. Сеансовый (взаимодействие процессов во время сеанса, создание контрольных точек).
6. Представления (данные от одной ОС представлялись и другой ОС).
7. Приложений 
# СЕТИ И СЕТЕВЫЕ ОС
### Одноуровневая адресация.
- Процесс опрашивает свою ОС о возможности использовать адрес
- ОС опрашивает все другие ОС о возможности присвоения адреса
- После сбора всех ответов ОС принимает решение
- ОС извещает процесс о принятом решении
- Приемлема для небольших сетей, для глобальных не используется.
# СЕТИ И СЕТЕВЫЕ ОС
### Двухуровневая адресация – удалённые адреса.
- В случае удалённых адресов возникают следующие проблемы
    - Проблема уникальности адресов
    - Проблема разрешения адресов
- **Централизованный подход решения**
    - Информация о всех символьных и числовых адресах хранится в специальном файле
    - Изменения вносятся в файл только администратором сети на специальном компьютере
    - Файл с изменениями рассылается на все компьютеры сети.
# СЕТИ И СЕТЕВЫЕ ОС
###  Двухуровневая адресация – удалённые адреса.
- **Распределённый подход (на примере DNS)**
    - Все компьютеры делятся на множества, которые, в свою очередь – на подмножества (ранги). И разделяются до тех пор, пока в одном ранге не будет по одному компьютеру.
    - Количество уровней обычно не превышает 4…5 в зависимости от протокола.
    - После разделения мы можем заняться именованием рангов. А после чего мы можем указать полный путь к компьютеру по такому принципу: `data.itech.ibisedu.ru`. 
    - Имя в этом случае идёт от более высокого ранга – к нулевому.
# СЕТИ И СЕТЕВЫЕ ОС
### Двухуровневая адресация – удалённые адреса.
- **Распределённый подход (на примере DNS)**
    - Чтобы найти цифровой аналог символьному имени, используется следующее решение: в каждом подмножестве компьютеров (рангов), где больше одного компьютера, заводится сервер DNS (Domain Name Service), который знает соответствие между символьным и числовым адресами.
    - Данный сервер может хранить информацию о нижележащих, вышележащих и соседних адресах. 
    - Цепочка может быть длинной, но в основном она кэшируется, поэтому соответствие может найтись быстро.
#  СЕТИ И СЕТЕВЫЕ ОС
### Двухуровневая адресация – локальные и полные адреса.
- **Локальные адреса.**
    - PID не подходит в качестве локального адреса.
    - Для локальной адресации создаётся специальное адресное пространство – пространство **сетевых портов**
    - Для разных средств связи – разные пространства портов.
- **Полные адреса**
    - Полный адрес - <числовой удалённый адрес, порт>
    - Полный адрес получил название socket (сокет)
# СЕТИ И СЕТЕВЫЕ ОС
### Маршрутизация
- **Маршрутизация от источника передачи данных**
    - В этом случае программист должен знать конфигурацию сети и представлять путь, который необходимо пройти до получателя. Данная последовательность должна быть явно прописана.
- **Одношаговая маршрутизация**
    - В этом случае информация о топологии сети не нужна. В этом случае каждый узел самостоятельно принимает решение, кому передать данные. Время передачи сильно увеличится. В пакете должен быть явно прописан только узел отправителя и получателя.
# СЕТИ И СЕТЕВЫЕ ОС
### Одношаговая маршрутизация
- **Алгоритм фиксированной маршрутизации**
    - В этом случае используется таблица маршрутизации, хранящаяся в узлах сети, в которой указывается адрес назначения, адрес очередного компонента сети, адрес исходящей линии связи. Возможно указание диапазона или значения по умолчанию. В этом случае мало накладных расходов, но при изменении топологии сети, необходимо вносить изменения и в таблицу маршрутизации, иначе пакеты доходить не будут.
# СЕТИ И СЕТЕВЫЕ ОС  
### Одношаговая маршрутизация
- **Алгоритм простой маршрутизации**
    - Лавинная: линия, с которой пришёл пакет, отмечается, а копии пакета рассылается по другим линиям, кроме отмеченной. Аналогичная работа ведётся по всем узлам. Однако в этом случае трафик сети будет загружен, но когда нужна надёжность, например в военных целях, такой алгоритм оправдан.
    - Случайная: линия отправителя также отмечается, а пакет отсылается по одной из линий случайным образом. Если пакет пришёл обратно по той же линии, выбирается другая линия.
# СЕТИ И СЕТЕВЫЕ ОС
### Одношаговая маршрутизация
- **Алгоритм простой маршрутизации**
    - По прецедентам: используется таблица маршрутизации, которая заполняется в ходе работы. Если таблица пустая, то используются алгоритмы, описанные выше. А в таблицу вносится адресат и линия, отправителя. Если получатель есть в сети, то информация берётся из таблицы.
- **Алгоритм динамической маршрутизации**
    - Векторно-дистанционные: в таблицу маршрутизации вносится метрика по количеству переходов до точки назначения. Узлы в этом случае обмениваются таблицами, в результате чего таблица маршрутов модифицируется у каждого узла, при добавлении или выходе из строя узлов.
# СЕТИ И СЕТЕВЫЕ ОС
### Одношаговая маршрутизация
- **Алгоритм динамической маршрутизации**
    - Состояния связей: в этом случае маршрутизатор должен:
- Обнаруживать соседей и узнавать их адреса
- Задавать вес связи с каждым из своих соседей.
- Создавать пакет с собранной информацией.
- Пересылать его всем другим и принимать от них аналогичные пакеты.
- Вычислять пути с наименьшим весом в другим маршрутизаторам.
# СЕТИ И СЕТЕВЫЕ ОС
### Интерфейсы 
- Протоколы без установления логического соединения или протоколы обмена датаграммами (datagram) – `connectionless`
- Протоколы, требующие установления логического соединения – `connection-oriented.`






 
     
  



    

    
    
  
    
    

 
    
    
    
   
    
    













 






    
    

    
